From f596bc290908664e0a6e44abc5bca09bf8fe7b42 Mon Sep 17 00:00:00 2001
From: Jotanh <joaopedromelen2910@gmail.com>
Date: Wed, 30 Apr 2025 05:45:11 +0000
Subject: [PATCH] remove su and adb restrict

---
 config/common.mk | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

diff --git a/config/common.mk b/config/common.mk
index 03653312..5add3de9 100644
--- a/config/common.mk
+++ b/config/common.mk
@@ -33,7 +33,7 @@ ifdef WITH_ADB_INSECURE
 PRODUCT_SYSTEM_DEFAULT_PROPERTIES += ro.adb.secure=0
 else
 # Enable ADB authentication
-PRODUCT_SYSTEM_DEFAULT_PROPERTIES += ro.adb.secure=1
+
 endif
 
 # Disable extra StrictMode features on all non-engineering builds
@@ -46,8 +46,7 @@ PRODUCT_COPY_FILES += \
     vendor/lineage/prebuilt/common/bin/backuptool.functions:install/bin/backuptool.functions \
     vendor/lineage/prebuilt/common/bin/50-lineage.sh:$(TARGET_COPY_OUT_SYSTEM)/addon.d/50-lineage.sh
 
-PRODUCT_ARTIFACT_PATH_REQUIREMENT_ALLOWED_LIST += \
-    system/addon.d/50-lineage.sh
+
 
 ifneq ($(strip $(AB_OTA_PARTITIONS) $(AB_OTA_POSTINSTALL_CONFIG)),)
 PRODUCT_COPY_FILES += \
@@ -217,13 +216,7 @@ endif
 PRODUCT_PACKAGES += \
     adb_root
 ifneq ($(TARGET_BUILD_VARIANT),user)
-ifeq ($(WITH_SU),true)
-PRODUCT_PACKAGES += \
-    su
 
-PRODUCT_ARTIFACT_PATH_REQUIREMENT_ALLOWED_LIST += \
-    system/xbin/su
-endif
 endif
 
 # SystemUI
-- 
2.43.0

